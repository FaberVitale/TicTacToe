webpackJsonp([0],{187:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),c=n.n(a),u=n(188),s=n(11),l=n(6),f=n(1),p=n(4),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){return function(){var t=e?Object(p.b)(e)||document.activeElement:document.activeElement;Object(p.a)(t)||(t!==document.activeElement&&t.focus(),t.click(),Object(p.a)(t)&&t.blur())}},b=Object(p.d)(f.o,h()),y=function(){"mode-list"!==document.activeElement.id&&Object(p.b)("mode-list").focus()},v=function(e){function t(){var e,n,i,a;r(this,t);for(var c=arguments.length,u=Array(c),s=0;s<c;s++)u[s]=arguments[s];return n=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.triggerIf=function(e){return function(){i.props.shouldTrigger&&e()}},a=n,o(i,a)}return i(t,e),d(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"move",value:function(e,t){if(!this.props.isGO){var n=document.activeElement.id,r=void 0;if(n&&n.startsWith("cell-")){if((r=parseInt(n.slice(5),10)+e)<0||r>8)return;this.props.board[r]!==f.l.empty&&(r=t?this.props.board.indexOf(f.l.empty,r+1):this.props.board.lastIndexOf(f.l.empty,r-1))}else r=this.props.board.indexOf(f.l.empty);r>-1&&Object(p.b)("cell-"+r).focus()}}},{key:"render",value:function(){var e=this.triggerIf(Object(p.d)(f.o,this.move.bind(this,-1,!1))),t=this.triggerIf(Object(p.d)(f.o,this.move.bind(this,1,!0))),n=this.triggerIf(Object(p.d)(f.o,this.move.bind(this,-3,!1))),r=this.triggerIf(Object(p.d)(f.o,this.move.bind(this,3,!0))),o=this.triggerIf(Object(p.d)(f.o,h("undo"))),i=this.triggerIf(Object(p.d)(f.o,h("redo")));return c.a.createElement(u.a,{bindings:{w:n,a:e,s:r,d:t,e:this.triggerIf(b),"ctrl+z":o,"ctrl+shift+z":i,"ctrl+y":i,n:this.triggerIf(Object(p.d)(f.o,h("new"))),m:this.triggerIf(Object(p.d)(f.o,y))}})}}]),t}(a.Component),m=function(e){return{board:Object(l.d)(e),isGO:Object(l.m)(e),shouldTrigger:!Object(l.g)(e)}};t.default=Object(s.b)(m,null)(v)},188:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),c=(n.n(a),n(2)),u=n.n(c),s=n(189),l=n.n(s),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={bindings:e.bindings},n}return i(t,e),f(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(){for(var e in this.state.bindings)l.a.bind(e,this.state.bindings[e])}},{key:"componentWillUnmount",value:function(){for(var e in this.state.bindings)l.a.unbind(e)}},{key:"render",value:function(){return null}}]),t}(a.Component);p.propTypes={bindings:u.a.objectOf(u.a.func)},t.a=p},189:function(e,t,n){var r;!function(o,i,a){function c(e,t,n){if(e.addEventListener)return void e.addEventListener(t,n,!1);e.attachEvent("on"+t,n)}function u(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return w[e.which]?w[e.which]:O[e.which]?O[e.which]:String.fromCharCode(e.which).toLowerCase()}function s(e,t){return e.sort().join(",")===t.sort().join(",")}function l(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function f(e){if(e.preventDefault)return void e.preventDefault();e.returnValue=!1}function p(e){if(e.stopPropagation)return void e.stopPropagation();e.cancelBubble=!0}function d(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function h(){if(!k){k={};for(var e in w)e>95&&e<112||w.hasOwnProperty(e)&&(k[w[e]]=e)}return k}function b(e,t,n){return n||(n=h()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function y(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function v(e,t){var n,r,o,i=[];for(n=y(e),o=0;o<n.length;++o)r=n[o],j[r]&&(r=j[r]),t&&"keypress"!=t&&_[r]&&(r=_[r],i.push("shift")),d(r)&&i.push(r);return t=b(r,i,t),{key:r,modifiers:i,action:t}}function m(e,t){return null!==e&&e!==i&&(e===t||m(e.parentNode,t))}function g(e){function t(e){e=e||{};var t,n=!1;for(t in k)e[t]?n=!0:k[t]=0;n||(_=!1)}function n(e,t,n,r,o,i){var a,c,u=[],l=n.type;if(!y._callbacks[e])return[];for("keyup"==l&&d(e)&&(t=[e]),a=0;a<y._callbacks[e].length;++a)if(c=y._callbacks[e][a],(r||!c.seq||k[c.seq]==c.level)&&l==c.action&&("keypress"==l&&!n.metaKey&&!n.ctrlKey||s(t,c.modifiers))){var f=!r&&c.combo==o,p=r&&c.seq==r&&c.level==i;(f||p)&&y._callbacks[e].splice(a,1),u.push(c)}return u}function r(e,t,n,r){y.stopCallback(t,t.target||t.srcElement,n,r)||!1===e(t,n)&&(f(t),p(t))}function o(e){"number"!==typeof e.which&&(e.which=e.keyCode);var t=u(e);if(t)return"keyup"==e.type&&w===t?void(w=!1):void y.handleKey(t,l(e),e)}function a(){clearTimeout(m),m=setTimeout(t,1e3)}function h(e,n,o,i){function c(n){r(o,n,e),"keyup"!==i&&(w=u(n)),setTimeout(t,10)}k[e]=0;for(var s=0;s<n.length;++s){var l=s+1===n.length,f=l?c:function(t){return function(){_=t,++k[e],a()}}(i||v(n[s+1]).action);b(n[s],f,i,e,s)}}function b(e,t,r,o,i){y._directMap[e+":"+r]=t,e=e.replace(/\s+/g," ");var a,c=e.split(" ");if(c.length>1)return void h(e,c,t,r);a=v(e,r),y._callbacks[a.key]=y._callbacks[a.key]||[],n(a.key,a.modifiers,{type:a.action},o,e,i),y._callbacks[a.key][o?"unshift":"push"]({callback:t,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:e})}var y=this;if(e=e||i,!(y instanceof g))return new g(e);y.target=e,y._callbacks={},y._directMap={};var m,k={},w=!1,O=!1,_=!1;y._handleKey=function(e,o,i){var a,c=n(e,o,i),u={},s=0,l=!1;for(a=0;a<c.length;++a)c[a].seq&&(s=Math.max(s,c[a].level));for(a=0;a<c.length;++a)if(c[a].seq){if(c[a].level!=s)continue;l=!0,u[c[a].seq]=1,r(c[a].callback,i,c[a].combo,c[a].seq)}else l||r(c[a].callback,i,c[a].combo);var f="keypress"==i.type&&O;i.type!=_||d(e)||f||t(u),O=l&&"keydown"==i.type},y._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)b(e[r],t,n)},c(e,"keypress",o),c(e,"keydown",o),c(e,"keyup",o)}if(o){for(var k,w={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},O={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},j={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},E=1;E<20;++E)w[111+E]="f"+E;for(E=0;E<=9;++E)w[E+96]=E.toString();g.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},g.prototype.unbind=function(e,t){var n=this;return n.bind.call(n,e,function(){},t)},g.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},g.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},g.prototype.stopCallback=function(e,t){var n=this;return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&(!m(t,n.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable))},g.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},g.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(w[t]=e[t]);k=null},g.init=function(){var e=g(i);for(var t in e)"_"!==t.charAt(0)&&(g[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},g.init(),o.Mousetrap=g,"undefined"!==typeof e&&e.exports&&(e.exports=g),void 0!==(r=function(){return g}.call(t,n,t,e))&&(e.exports=r)}}("undefined"!==typeof window?window:null,"undefined"!==typeof window?document:null)}});
//# sourceMappingURL=0.a371ec5a.chunk.js.map