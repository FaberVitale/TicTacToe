(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,n){e.exports=n(224)},14:function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return u});var a=n(10),r=n(35),i=n(2),o=function(){for(var e=0,t=arguments.length;e<t;e++){var n=e<0||arguments.length<=e?void 0:arguments[e],a=Object(r.a)(n,3),o=a[0],l=a[1],c=a[2];if(o!==i.l.empty&&l===o&&c===o)return e}return-1},l=function(e,t,n){for(var a=i.g[t],r=i.g[n],o=0;o<3;o++)for(var l=a[o],c=0;c<3;c++){if(l===r[c]&&e[l]===i.l.empty)return l}return-1},c=function(e,t){for(var n=i.g[t],a=0,r=n.length;a<r;a++)if(e[n[a]]===i.l.empty)return n[a];return-1},u=function(e){for(var t,n,o,l=i.m[i.l.x],c=2*l,u=i.m[i.l.o],s=2*u,d={lines:(t={},Object(a.a)(t,i.l.x,{single:[],double:[]}),Object(a.a)(t,i.l.o,{single:[],double:[]}),t),corners:(n={},Object(a.a)(n,i.l.x,[]),Object(a.a)(n,i.l.o,[]),Object(a.a)(n,i.l.empty,[]),n),sides:(o={},Object(a.a)(o,i.l.x,[]),Object(a.a)(o,i.l.o,[]),Object(a.a)(o,i.l.empty,[]),o)},m=0,b=i.g.length;m<b;m++){var f=Object(r.a)(i.g[m],3),p=f[0],h=f[1],O=f[2];switch(i.m[e[p]]+i.m[e[h]]+i.m[e[O]]){case l:d.lines[i.l.x].single.push(m);break;case c:d.lines[i.l.x].double.push(m);break;case u:d.lines[i.l.o].single.push(m);break;case s:d.lines[i.l.o].double.push(m)}}for(var v=0,E=i.b.length;v<E;v++){var y=i.b[v];d.corners[e[y]].push(y)}for(var g=0,j=i.k.length;g<j;g++){var k=i.k[g];d.sides[e[k]].push(k)}return d}},2:function(e,t,n){"use strict";n.d(t,"l",function(){return o}),n.d(t,"n",function(){return l}),n.d(t,"m",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return d}),n.d(t,"h",function(){return m}),n.d(t,"a",function(){return b}),n.d(t,"j",function(){return f}),n.d(t,"o",function(){return p}),n.d(t,"i",function(){return h}),n.d(t,"g",function(){return O}),n.d(t,"c",function(){return v}),n.d(t,"k",function(){return E}),n.d(t,"b",function(){return y});var a,r,i=n(10),o={x:"\u2717",o:"O",empty:" "},l=(a={},Object(i.a)(a,o.x,"X"),Object(i.a)(a,o.o,"O"),Object(i.a)(a,o.empty,"empty"),a),c=(r={},Object(i.a)(r,o.x,10),Object(i.a)(r,o.o,-1),Object(i.a)(r,o.empty,0),r),u={PVAI_EASY:"easy",PVAI_MEDIUM:"medium",PVAI_UNFAIR:"unfair",PVP:"pvp"},s=Object.keys(u).map(function(e){return u[e]}),d={easy:"PVAI_EASY",medium:"PVAI_MEDIUM",unfair:"PVAI_UNFAIR",pvp:"PVP"},m="(min-width: 769px)",b=["cell 1,1","cell 1,2","cell 1,3","cell 2,1","cell 2,2","cell 2,3","cell 3,1","cell 3,2","cell 3,3"],f="root",p=150,h={0:8,8:0,2:6,6:2},O=[[0,4,8],[2,4,6],[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8]],v=[[o.x,o.empty,o.empty,o.empty,o.o,o.empty,o.empty,o.empty,o.x].join(""),[o.empty,o.empty,o.x,o.empty,o.o,o.empty,o.x,o.empty,o.empty].join("")],E=[1,5,7,4],y=[0,2,8,6]},215:function(e,t,n){},216:function(e,t,n){},217:function(e,t,n){},218:function(e,t,n){},219:function(e,t,n){},220:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){"use strict";n.r(t);n(123),n(139),n(145),n(149),n(152);var a=n(1),r=n.n(a),i=n(34),o=n.n(i),l=n(4),c=n(5),u=n(7),s=n(6),d=n(8),m=n(119),b=n.n(m),f=n(15),p=n(22),h=n(2),O=n(55),v="".concat(new Array(9).fill(h.l.empty).join("")),E=n(31),y=function(e,t,n,a){return 1===a?{past:e.slice(0,e.length-1),present:e[e.length-1],future:[t].concat(Object(E.a)(n))}:{past:e.slice(0,e.length-a),present:e[e.length-a],future:[].concat(Object(E.a)(e.slice(e.length-a+1)),[t],Object(E.a)(n))}},g=function(e,t,n,a){return{past:[].concat(Object(E.a)(e),[t],Object(E.a)(n.slice(0,a-1))),present:n[a-1],future:n.slice(a)}},j=Object(p.c)({gameMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"PVAI_MEDIUM",t=arguments.length>1?arguments[1]:void 0;return"CHANGE_GAME_MODE"===t.type?t.payload:e},game:function(e){var t={past:[],present:e(void 0,{action:"@@UNDOREDO/INIT"}),future:[]};return function(){var n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0,i=a.past,o=a.present,l=a.future;switch(r.type){case"UNDO":return i.length<1?a:y(i,o,l,1);case"REDO":return l.length<1?a:g(i,o,l,1);case"NEW":return t;case"UNDO_AI":return i.length<2?a:(n=i.length%2!==0?1:2,y(i,o,l,n));case"REDO_AI":return n=l.length<2?1:2,g(i,o,l,n);case"CHANGE_GAME_MODE":return t;default:var c=e(o,r);return c===o?a:function(e,t,n){return{past:[].concat(Object(E.a)(e),[t]),present:n,future:[]}}(i,o,c)}}}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;return"PLACE_SIGN"===t.type||"PLACE_SIGN_AI"===t.type?Object(O.b)(e,t.payload.pos,t.payload.symb):e}),isModalOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"OPEN_MODAL":return!0;case"CLOSE_MODAL":return!1;default:return e}}}),k=n(121),S=function(){var e=Object(p.a)(k.a);return function(){return Object(p.e)(j,e)}}(),I=(n(215),n(216),n(9)),C=0,w=1,A=2,N=["board-cell idle","board-cell disabled","board-cell disabled victory"],D=["empty","filled-animated","filled-animated"],R=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleTouchStart=function(e){n.props.isDisabled||n.handleClick()},n.getRef=function(e){n.buttonElem=e},n.handleClick=e.handleClick(e.cellIndex),n.id="cell-".concat(n.props.cellIndex),n.prevCellState=-1,n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillUpdate",value:function(){this.prevCellState=this.props.cellState}},{key:"getPClassName",value:function(){return this.prevCellState>-1&&this.prevCellState===A&&this.props.cellState===w?"filled":D[this.props.cellState]}},{key:"componentDidUpdate",value:function(){document.activeElement===this.buttonElem&&Object(I.a)(this.buttonElem)&&this.buttonElem.blur()}},{key:"render",value:function(){return r.a.createElement("button",{type:"button",id:this.id,ref:this.getRef,className:N[this.props.cellState],onClick:this.handleClick,onTouchStart:this.handleTouchStart,onAnimationEnd:this.handleAnimEnd,disabled:this.props.isDisabled,"aria-label":"".concat(this.props.ariaLabel,": ").concat(h.n[this.props.value])},r.a.createElement("div",{className:"victory-overlay","aria-hidden":"true"}),r.a.createElement("p",{className:this.getPClassName()},this.props.value))}}]),t}(a.PureComponent);R.getCellState=function(e,t,n){return e<0?t?w:C:e>-1&&h.g[e].indexOf(n)>-1?A:w};var x,L=R,M=n(3),_=n(10),V=n(14),P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n,a,r){if(0===a)return e();var i=r===h.l.x?h.l.o:h.l.x,o=Object(V.a)(n),l=-1,c=!0,u=!1,s=void 0;try{for(var d,m=t[Symbol.iterator]();!(c=(d=m.next()).done);c=!0){if((l=(0,d.value)(n,o,r,i,a))>-1)return l}}catch(p){u=!0,s=p}finally{try{c||null==m.return||m.return()}finally{if(u)throw s}}var b=a>=9?"this function shouldn't be called on a filled board":"ai logic error",f=Array.prototype.reduce.call(n,function(e,t,n){return e>-1?e:t===h.l.empty?n:e},-1);return f.length>0&&(b+="\nrecovery: picked an empty cell",l=f[0]),Object(I.e)(b),l}},B=n(35),T={twoInLine:function(e,t,n,a,r){return r<3?-1:t.lines[n].double.length>0?Object(V.c)(e,t.lines[n].double[0]):t.lines[a].double.length>0?Object(V.c)(e,t.lines[a].double[0]):-1},fork:function(e,t,n,a,r){if(r<3)return-1;if(t.lines[n].single.length>1){var i=Object(B.a)(t.lines[n].single,2),o=i[0],l=i[1],c=-1;if(t.lines[n].single.length>2){var u=t.lines[n].single[2];(c=Object(V.b)(e,l,u))<0&&(c=Object(V.b)(e,o,u))}if(c<0&&(c=Object(V.b)(e,o,l)),c>0)return c}if(t.lines[a].single.length>1){var s=Object(B.a)(t.lines[a].single,2),d=s[0],m=s[1],b=Object(V.b)(e,d,m);if(t.lines[a].single.length>2&&b<0){var f=t.lines[a].single[2];(b=Object(V.b)(e,m,f))<0&&(b=Object(V.b)(e,d,f))}if(b>=0)return h.c.filter(function(t){return t===e}).length>0?t.sides[h.l.empty][0]:b}return-1}},U={center:function(e){return e[4]===h.l.empty?4:-1},edge:function(e,t,n,a,r){var i=!0,o=!1,l=void 0;try{for(var c,u=t.corners[a][Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var s=c.value,d=h.i[s];if(e[d]===h.l.empty)return d}}catch(m){o=!0,l=m}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}return t.corners[h.l.empty].length>0?t.corners[h.l.empty][0]:-1},side:function(e,t,n,a,r){return t.sides[h.l.empty].length>0?t.sides[h.l.empty][0]:-1}},H=function(){return 5*Math.random()<<1},W=function(){return 9*Math.random>>>0},G=(x={},Object(_.a)(x,h.d.PVAI_EASY,P(W,[U.side,U.center,U.edge])),Object(_.a)(x,h.d.PVAI_MEDIUM,P(H,[T.twoInLine,U.center,U.edge,U.side])),Object(_.a)(x,h.d.PVAI_UNFAIR,P(H,[T.twoInLine,T.fork,U.center,U.edge,U.side])),x),F=function(e){return function(t,n){var a=n();if(Object(M.a)(a)||Object(M.m)(a))if(Object(M.o)(a))e&&t({type:e});else switch(e){case"UNDO":t({type:"UNDO_AI"});break;case"REDO":t({type:"REDO_AI"});break;default:Object(I.e)("undoRedoAction recieved an unknown action: ".concat(e,"\n          it accepts only UNDO, REDO actions"))}}},K=function(e,t){var n,a,r,i;e({type:"PLACE_SIGN_AI",payload:{pos:(n=Object(M.d)(t),a=Object(M.j)(t),r=h.l.o,i=t.gameMode,G[h.d[i]](n,a,r)),symb:h.l.o}})},q=(n(217),[0,1,2]),z={areStatesEqual:I.c},Y=Object(f.b)(function(e,t){return{rowVals:Object(M.i)(t.rowIndex)(e),isGameOver:Object(M.m)(e),winnerLine:Object(M.k)(e)}},function(e){return{onCellClick:function(t){return function(){return e((n=t,function(e,t){var a=t(),r=Object(M.h)(a);if(Object(M.a)(a)&&Object(M.l)(a)(n)){e({type:"PLACE_SIGN",payload:{pos:n,symb:r}});var i=t();Object(M.p)(i)&&setTimeout(K,100,e,i)}}));var n}}}},null,z)(function(e){var t=e.rowIndex,n=e.onCellClick,a=e.rowVals,i=e.isGameOver,o=e.winnerLine;return r.a.createElement("div",{className:"board-row"},q.map(function(e){var l=a[e],c=3*t+e,u=l!==h.l.empty||i,s=L.getCellState(o,u,c);return function(e,t,n,a,i){return r.a.createElement(L,{key:e,cellIndex:e,handleClick:t,value:n,isDisabled:i,cellState:a,ariaLabel:h.a[e]})}(c,n,l,s,u)}))}),J=(n(218),n(87)),Q=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleClick=function(e){e.target!==e.currentTarget&&(n.targetClick=e.target)},n.targetClick=null,n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){this.targetClick&&Object(I.a)(this.targetClick)&&(this.targetClick.blur(),this.targetClick=null)}},{key:"render",value:function(){var e=this.props,n=e.isNewDisabled,a=e.onNewClick,i=e.isUndoDisabled,o=e.onUndoClick,l=e.isRedoDisabled,c=e.onRedoClick,u=e.isLargeScreen,s=[r.a.createElement("button",{key:0,type:"button","aria-label":"new",id:"new",className:"control-bar-button",disabled:n,onClick:a},"new"),r.a.createElement("button",{key:1,type:"button","aria-label":"undo",id:"undo",className:"control-bar-button",disabled:i,onClick:o},t.undo[+u])];return r.a.createElement("div",{className:"control-bar",ref:this.getRef,onClick:this.handleClick},this.props.isLargeScreen?s:s.reverse(),r.a.createElement("button",{type:"button","aria-label":"redo",id:"redo",className:"control-bar-button",disabled:l,onClick:c},t.redo[+u]))}}]),t}(a.PureComponent);Q.redo=[r.a.createElement(J.a,null),"redo"],Q.undo=[r.a.createElement(J.b,null),"undo"];var X=Q,$=Object(f.b)(function(e){return{isNewDisabled:Object(M.n)(e),isUndoDisabled:!Object(M.c)(e),isRedoDisabled:!Object(M.b)(e)}},function(e){return{onNewClick:function(){return e({type:"NEW"})},onUndoClick:function(){return e(F("UNDO"))},onRedoClick:function(){return e(F("REDO"))}}})(X),Z=(n(219),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=[r.a.createElement("div",{className:"board",key:0},r.a.createElement(Y,{rowIndex:0}),r.a.createElement("div",{className:"row-separator","aria-hidden":"true"}),r.a.createElement(Y,{rowIndex:1}),r.a.createElement("div",{className:"row-separator","aria-hidden":"true"}),r.a.createElement(Y,{rowIndex:2})),r.a.createElement($,{isLargeScreen:this.props.isLargeScreen,key:1})];return r.a.createElement("main",null,this.props.isLargeScreen?e:e.reverse())}}]),t}(a.PureComponent)),ee=n(54),te=(n(220),n(56)),ne=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("li",{className:"option-item option-item-theme",role:"option","aria-selected":this.props.isSelected,id:this.props.id},r.a.createElement("span",null,this.props.isSelected?"\u2713":" "),r.a.createElement("span",null,this.props.text))}}]),t}(a.PureComponent),ae="option-list option-list-theme option-list-visible",re="option-list option-list-theme option-list-hidden",ie="option-list option-list-theme option-list-anim-over",oe="svg-animator rotate-90",le="svg-animator",ce=function(e,t){return"".concat(e,"-option-").concat(t)},ue=function(e,t){return parseInt(t.slice(e.length+8),10)},se=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).getRef=function(e){n.elem=e},n.renderOption=function(e,t){return r.a.createElement(ne,{id:ce(n.props.id,t),key:t,text:e,isSelected:n.props.selectedIndex===t})},n.makeList=function(e,t){return n.props.items.map(n.renderOption,Object(ee.a)(n))},n.setVisibility=Object(I.d)(h.o,function(e){n.setState(function(t){if(t.isVisible!==e)return{isVisible:e,isAnimating:!0}})}),n.handleKeyDown=Object(I.d)(h.o,function(e){var t=!0;switch(e.key){case"ArrowUp":case"ArrowLeft":n.props.selectedIndex>0&&n.props.handleItemClick(n.props.items[n.props.selectedIndex-1]);break;case"ArrowDown":case"ArrowRight":n.props.selectedIndex<n.props.items.length-1&&n.props.handleItemClick(n.props.items[n.props.selectedIndex+1]);break;case"Escape":n.state.isVisible&&n.setVisibility(!1);break;case"Enter":case" ":n.setVisibility(!n.state.isVisible);break;default:t=!1}t&&e.preventDefault()}),n.handleClick=function(e){var t=e.target;if(t===n.elem||t.parentElement===n.elem)n.setVisibility(!n.state.isVisible);else{var a=t.id||t.parentElement.id;n.props.handleItemClick(n.props.items[ue(n.props.id,a)]),n.setVisibility(!1)}},n.handleBlur=function(e){e.target===n.elem&&n.setVisibility(!1)},n.handleTransitionEnd=function(){return n.setState({isAnimating:!1})},n.state={isVisible:!1,isAnimating:!1},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t,n=this;return r.a.createElement("div",{ref:function(e){n.elem=e},id:this.props.id,className:"listbox listbox-theme",role:"listbox",tabIndex:0,"aria-haspopup":"true","aria-expanded":this.state.isVisible,"aria-activedescendant":ce(this.props.id,this.props.selectedIndex),"aria-labelledby":this.props.label||null,"aria-describedby":this.props.describer||null,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onTransitionEnd:this.handleTransitionEnd},r.a.createElement("div",{className:"listbox-button listbox-button-theme"},r.a.createElement("div",{"aria-hidden":"true",className:this.state.isVisible?oe:le},r.a.createElement(te.a,null)),r.a.createElement("span",null,this.props.items[this.props.selectedIndex])),r.a.createElement("ul",{className:(e=this.state.isVisible,t=this.state.isAnimating,e?ae:t?re:ie)},this.makeList()))}}]),t}(a.PureComponent),de=(n(221),Object(f.b)(function(e){return{selectedIndex:Object(M.e)(e)}},function(e){return{handleItemClick:function(t){var n;e((n=t,function(e,t){var a=h.e[n];a&&Object(M.f)(t())!==a&&e({type:"CHANGE_GAME_MODE",payload:a})}))}}})(function(e){var t=e.selectedIndex,n=e.handleItemClick;return r.a.createElement("div",{className:"top-bar"},r.a.createElement("span",{className:"info-label",id:"mode-label"},"mode"),r.a.createElement(se,{id:"mode-list",items:h.f,label:"mode-label",selectedIndex:t,handleItemClick:n}))})),me=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"TicTacToe"),this.props.isLargeScreen?r.a.createElement(de,null):null)}}]),t}(a.PureComponent),be=(n(222),["modal-hidden","modal-trans-hide","modal-visible","modal-visible modal-trans-show"]),fe=["modal-close-button-hidden","modal-close-button-hidden","modal-close-button-visible","modal-close-button-hidden"],pe={HIDDEN:0,TRANS_HIDE:1,VISIBLE:2,TRANS_SHOW:3},he=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).getButtonRef=function(e){n.closeButton=e},n.getModalContentRef=function(e){n.modalContent=e},n.changeState=function(e,t){e&&n.setState({mState:t})},n.show=function(){n.state.mState===pe.HIDDEN&&n.setState({mState:pe.TRANS_SHOW})},n.hide=function(){n.changeState(n.state.mState===pe.VISIBLE,pe.TRANS_HIDE),n.props.close()},n.handleClickOutside=function(e){"modal-root"===e.target.id&&n.closeButton.click()},n.handleKeyEvents=function(e){if(n.state.mState===pe.VISIBLE)switch(e.key){case"Escape":n.closeButton.click();break;case"Tab":e.preventDefault()}},n.blurCB=function(){n.closeButton&&n.state.mState===pe.VISIBLE&&document.activeElement!==n.closeButton&&n.closeButton.focus()},n.handleBlur=function(e){setTimeout(n.blurCB,10)},n.handleAnimEnd=function(e){if(e.target===n.modalRoot){var t=-1,a=null;switch(n.state.mState){case pe.TRANS_HIDE:t=pe.HIDDEN;break;case pe.TRANS_SHOW:t=pe.VISIBLE;break;case pe.HIDDEN:a="hidden modals should not have animations";break;case pe.VISIBLE:break;default:a="invalid state ".concat(n.state.mState)}t>=pe.HIDDEN&&t<=pe.TRANS_SHOW?n.setState({mState:t}):Object(I.e)(a)}},n.updateDOM=function(){switch(n.state.mState){case pe.VISIBLE:break;case pe.TRANS_SHOW:document.body.style.overflow="hidden",document.getElementById(h.j).setAttribute("aria-hidden","true"),n.modalRoot.setAttribute("aria-hidden","false");break;case pe.TRANS_HIDE:document.body.style.overflow="auto",document.getElementById(h.j).removeAttribute("aria-hidden"),n.modalRoot.setAttribute("aria-hidden","true");break;case pe.HIDDEN:break;default:Object(I.e)("illegal state modal state: ".concat(n.state.mState))}n.modalRoot.className=be[n.state.mState]},n.state={mState:pe.HIDDEN},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.modalRoot=Object(I.b)("modal-root"),this.modalRoot||(this.modalRoot=document.createElement("div"),this.modalRoot.setAttribute("id","modal-root"),document.body.appendChild(this.modalRoot)),this.activator=null}},{key:"componentDidMount",value:function(){this.modalRoot.className=be[pe.HIDDEN],this.modalRoot.addEventListener("click",this.handleClickOutside),this.modalRoot.addEventListener("animationend",this.handleAnimEnd),this.modalRoot.setAttribute("role","dialog"),this.modalRoot.setAttribute("aria-hidden","true"),this.changeState(this.props.shouldShow,pe.VISIBLE)}},{key:"componentWillUnmount",value:function(){this.modalRoot.removeEventListener("click",this.handleClickOutside),this.modalRoot.removeEventListener("animationend",this.handleAnimEnd),this.modalRoot.removeAttribute("role")}},{key:"componentWillReceiveProps",value:function(e){this.changeState(e.shouldShow&&this.state.mState===pe.HIDDEN,pe.TRANS_SHOW)}},{key:"componentDidUpdate",value:function(){window.requestAnimationFrame(this.updateDOM);var e=document.activeElement;this.state.mState===pe.TRANS_SHOW&&(this.activator=document.activeElement),this.state.mState===pe.VISIBLE&&e!==this.closeButton&&this.closeButton.focus(),this.state.mState===pe.TRANS_HIDE&&this.activator&&(this.activator.focus(),this.activator=null)}},{key:"render",value:function(){return o.a.createPortal(r.a.createElement("div",{id:"modal-content",className:this.state.mState===pe.TRANS_HIDE?"modal-content-trans-hide":null,ref:this.getModalContentRef,onKeyDown:this.handleKeyEvents,onBlur:this.handleBlur,"aria-label":this.props.title},r.a.createElement("button",{type:"button",onClick:this.hide,id:"modal-close-button",ref:this.getButtonRef,className:fe[this.state.mState],"aria-label":"close"},r.a.createElement(te.b,null)),this.props.children),this.modalRoot)}}]),t}(a.Component),Oe=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return[r.a.createElement("section",{key:0},r.a.createElement("h2",null,"How to play"),r.a.createElement("p",null,"Place 3 crosses in a line to Win.",r.a.createElement("br",null),"Select ",r.a.createElement("em",null,"easy, medium, unfair")," to play against the ai or"," ",r.a.createElement("em",null,"pvp")," to play with a friend.")),r.a.createElement("section",{key:1},r.a.createElement("h2",null,"Controls"),r.a.createElement("h3",null,"Mouse/Touch"),r.a.createElement("p",null,"Left Click to place a cross.",r.a.createElement("br",null),"Click on ",r.a.createElement("em",null,"new")," to play a new game. Click on"," ",r.a.createElement("em",null,"undo or redo")," to replay previous turns."),r.a.createElement("h3",null,"Keyboard"),r.a.createElement("ul",{className:"keybindings-list"},r.a.createElement("li",null,r.a.createElement("kbd",null,"w")," ",r.a.createElement("kbd",null,"a")," ",r.a.createElement("kbd",null,"s")," ",r.a.createElement("kbd",null,"d")," - ","select a cell"),r.a.createElement("li",null,r.a.createElement("kbd",null,"e")," | ",r.a.createElement("kbd",null,"spacebar")," | ",r.a.createElement("kbd",null,"enter")," - ","place a cross"),r.a.createElement("li",null,r.a.createElement("kbd",null,"n")," - ","play a new game"),r.a.createElement("li",null,r.a.createElement("kbd",null,"m")," - ","select game mode"),r.a.createElement("li",null,r.a.createElement("kbd",null,"ctrl")," + ",r.a.createElement("kbd",null,"z")," - ","undo"),r.a.createElement("li",null,r.a.createElement("kbd",null,"ctrl")," + ",r.a.createElement("kbd",null,"shift")," + ",r.a.createElement("kbd",null,"z")," | ",r.a.createElement("kbd",null,"ctrl")," + ",r.a.createElement("kbd",null,"y")," - ","redo"))),r.a.createElement("section",{key:2},r.a.createElement("h3",null,"Author:"),r.a.createElement("em",null,"Fabrizio Vitale"))]}}]),t}(a.Component),ve={areStatesEqual:I.c},Ee=Object(f.b)(function(e){return{turn:Object(M.j)(e)}},null,null,ve)(function(e){var t=e.turn;return r.a.createElement("p",{className:"info-label"},"turn: ".concat(t))}),ye=(n(223),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.isLargeScreen?r.a.createElement("footer",null,r.a.createElement("button",{type:"button",id:"footer-button",onClick:this.props.openModal},"about"),r.a.createElement(Ee,null),r.a.createElement(he,{shouldShow:this.props.isModalOpen,title:"about section",close:this.props.closeModal},r.a.createElement(Oe,null))):r.a.createElement("div",{className:"info-bar"},r.a.createElement(de,null),r.a.createElement("button",{type:"button",id:"footer-button",onClick:this.props.openModal},"about"),r.a.createElement(he,{shouldShow:this.props.isModalOpen,title:"about section",close:this.props.closeModal},r.a.createElement(Oe,null)))}}]),t}(a.PureComponent)),ge=Object(f.b)(function(e){return{isModalOpen:Object(M.g)(e)}},function(e){return{openModal:function(){return e({type:"OPEN_MODAL"})},closeModal:function(){return e({type:"CLOSE_MODAL"})}}})(ye),je=function(e){return function(t){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(r)))).state={component:null},t.storeComponent=function(e){t.setState({component:e.default})},t.logFail=function(e){Object(I.e)("failed fetch: ".concat(e))},t}return Object(d.a)(n,t),Object(c.a)(n,[{key:"componentDidMount",value:function(){e().then(this.storeComponent,this.logFail)}},{key:"shouldComponentUpdate",value:function(e,t){return!(!this.state.component&&!t.component)}},{key:"render",value:function(){var e=this.state.component;return e?r.a.createElement(e,this.props):null}}]),n}(a.Component)},ke=S(),Se=function(e){function t(e){var a,i=this;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).mediaQCallback=function(e){var t=[r.a.createElement(Z,{key:0,isLargeScreen:e}),r.a.createElement(ge,{key:1,isLargeScreen:e})];return r.a.createElement(f.a,{store:ke},r.a.createElement("div",{id:"app"},r.a.createElement(i.keybinder,null),r.a.createElement(me,{isLargeScreen:e}),e?t:t.reverse()))},a.keybinder=je(function(){return n.e(3).then(n.bind(null,226))}),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{query:h.h},this.mediaQCallback)}}]),t}(a.Component),Ie=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ce(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var we=document.getElementById(h.j);null!==we?(o.a.render(r.a.createElement(Se,null),we),function(){if("serviceWorker"in navigator){if(new URL("/tictactoe",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/tictactoe","/service-worker.js");Ie?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ce(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):Ce(e)})}}()):console.error("React root element is not present")},3:function(e,t,n){"use strict";var a=n(18),r=n(2),i=n(14),o=n(55),l=function(e){return e.game.present},c=function(e){return e.isModalOpen},u=function(e){return function(t){return t.game.present.slice(3*e,3*e+3)}},s=function(e){return function(t){return l(e)[t]===r.l.empty}},d=function(e){return"PVP"===e.gameMode},m=function(e){return!(d(e)||j(e))},b=function(e){return(d(e)||y(e)===r.l.x)&&!j(e)},f=function(e){return e.gameMode},p=function(e){return Object.keys(r.d).indexOf(f(e))},h=[Object(a.a)(l,function(e){return"".concat(e[0]).concat(e[3]).concat(e[6])}),Object(a.a)(l,function(e){return"".concat(e[1]).concat(e[4]).concat(e[7])}),Object(a.a)(l,function(e){return"".concat(e[2]).concat(e[5]).concat(e[8])})],O=Object(a.a)(l,function(e){return"".concat(e[0]).concat(e[4]).concat(e[8])}),v=Object(a.a)(l,function(e){return"".concat(e[2]).concat(e[4]).concat(e[6])}),E=Object(a.a)(l,Object(o.a)(r.l.empty)),y=Object(a.a)(E,function(e){return e%2===0?r.l.x:r.l.o}),g=a.a.apply(void 0,[O,v,u(0),u(1),u(2)].concat(h,[i.d])),j=Object(a.a)(g,E,function(e,t){return-1!==e||t>8}),k=function(e){return d(e)?e.game.past.length>0:e.game.past.length>1},S=function(e){return d(e),e.game.future.length>0},I=function(e){return!(k(e)||S(e))};n.d(t,"c",function(){return k}),n.d(t,"b",function(){return S}),n.d(t,"n",function(){return I}),n.d(t,"d",function(){return l}),n.d(t,"g",function(){return c}),n.d(t,"i",function(){return u}),n.d(t,"j",function(){return E}),n.d(t,"h",function(){return y}),n.d(t,"k",function(){return g}),n.d(t,"m",function(){return j}),n.d(t,"l",function(){return s}),n.d(t,"p",function(){return m}),n.d(t,"a",function(){return b}),n.d(t,"o",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"e",function(){return p})},55:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var a=function(e,t,n){return"".concat(e.slice(0,t)).concat(n).concat(e.slice(t+1))},r=function(e){return function(t){for(var n=0,a=0,r=t.length;a<r;a++)t[a]!==e&&(n+=1);return n}}},9:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return c});var a=n(3),r=function(e,t,n){var a=0,r=n||null;return function(){var n=Date.now();if(n-a>=e){a=n;for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t.apply(r,o)}}},i=function(e){return document.getElementById(e)},o=function(e){return e.hasAttribute("disabled")},l=function(e,t){return Object(a.d)(e)===Object(a.d)(t)},c=function(){}}},[[122,1,2]]]);
//# sourceMappingURL=main.466fd45a.chunk.js.map